-- 乡村安土项目 - 示例数据生成脚本
-- 数据库：hometownrooted
-- 端口：3306
-- 用户名：root
-- 密码：root

USE hometownrooted;

-- ==========================================
-- 健康档案数据
-- ==========================================

-- 为测试用户插入健康档案
INSERT INTO health_profiles (user_id, height, weight, blood_pressure, blood_sugar, heart_rate, allergies, medications, chronic_diseases, emergency_contact, emergency_phone) VALUES
(1, 165, 65, '120/80', '5.6', 72, '青霉素过敏', '硝苯地平缓释片 1片/次 2次/日;二甲双胍 2片/次 3次/日', '高血压,糖尿病', '张三', '13900139000'),
(2, 168, 58, '115/75', '5.2', 70, '无', '无', '无', '李四', '13700137000'),
(3, 175, 72, '125/82', '5.8', 75, '无', '无', '无', '王五', '13600136000')
ON DUPLICATE KEY UPDATE
  updated_at = CURRENT_TIMESTAMP;

-- ==========================================
-- 任务数据
-- ==========================================

-- 插入一些示例任务
INSERT INTO tasks (publisher_id, title, description, task_type, reward, location, deadline, status) VALUES
-- 老人发布的任务
(1, '需要陪同就医', '最近去医院体检，需要志愿者陪同前往', 'medical', 3, '北京市朝阳区医院', '2024-02-15 10:00:00', 'open'),
(1, '帮忙代购药品', '需要代购一些慢性病用药', 'shopping', 1, '北京市朝阳区药房', '2024-02-10 14:00:00', 'open'),
-- 志愿者认领的任务
(2, '李奶奶需要打扫卫生', '李奶奶家里需要打扫卫生', 'housekeeping', 4, '北京市海淀区', '2024-02-12 09:00:00', 'assigned'),
-- 管理员发布的任务
(3, '组织健康讲座', '需要志愿者协助组织健康讲座', 'event', 5, '社区活动中心', '2024-02-20 14:00:00', 'open'),
(1, '教使用智能手机', '希望有志愿者教我使用智能手机', 'teaching', 2, '北京市朝阳区', '2024-02-25 10:00:00', 'open'),
(2, '张爷爷需要购物', '帮助张爷爷购买生活用品', 'shopping', 1.5, '北京市海淀区超市', '2024-02-11 15:00:00', 'completed'),
(1, '陪伴聊天', '希望有志愿者陪我聊聊天', 'companionship', 1, '北京市朝阳区', '2024-02-28 16:00:00', 'open'),
(3, '组织社区活动', '需要志愿者帮忙组织社区活动', 'event', 3, '社区广场', '2024-03-01 09:00:00', 'open'),
(1, '修理家电', '家里的电视机坏了，需要帮忙修理', 'maintenance', 3, '北京市朝阳区', '2024-02-18 10:00:00', 'open'),
(2, '王奶奶的日常照料', '需要志愿者帮忙照看王奶奶', 'care', 4, '北京市海淀区', '2024-02-13 08:00:00', 'assigned');

-- ==========================================
-- 时间银行记录数据
-- ==========================================

-- 为每个用户生成时间币记录
INSERT INTO time_bank_records (user_id, task_id, type, amount, description, balance) VALUES
-- 老人1的记录（赚取和消费）
(1, NULL, 'earn', 50, '初始时间币赠送', 50),
(1, 6, 'spend', 5, '兑换大米', 45),
(1, 7, 'spend', 2, '兑换鸡蛋', 43),
-- 志愿者2的记录（主要是赚取）
(2, 3, 'earn', 4, '完成任务：李奶奶需要打扫卫生', 4),
(2, 6, 'earn', 1.5, '完成任务：张爷爷需要购物', 5.5),
(2, 8, 'earn', 3, '完成任务：组织社区活动', 8.5),
(2, NULL, 'earn', 100, '志愿服务奖励', 108.5),
-- 管理员3的记录
(3, NULL, 'earn', 200, '初始时间币赠送', 200),
(3, 5, 'earn', 2, '完成任务：教使用智能手机', 202);

-- ==========================================
-- 服务预约数据
-- ==========================================

-- 插入服务预约记录
INSERT INTO service_bookings (user_id, service_type, service_name, appointment_date, appointment_time, location, description, status) VALUES
(1, 'medical', '医生问诊', '2024-01-15', '10:30', '社区卫生服务中心', '定期体检', 'completed'),
(1, 'housekeeping', '家政服务', '2024-01-16', '14:00', '家中', '打扫卫生', 'pending'),
(2, 'shopping', '代购服务', '2024-01-17', '09:00', '超市', '代购生活用品', 'completed'),
(1, 'medical', '中医理疗', '2024-01-20', '15:00', '中医馆', '按摩理疗', 'confirmed'),
(2, 'companionship', '陪伴服务', '2024-01-22', '10:00', '老人家中', '陪聊天', 'pending'),
(1, 'legal', '法律咨询', '2024-01-25', '14:30', '社区法律服务站', '遗嘱公证咨询', 'cancelled');

-- ==========================================
-- 便民服务数据
-- ==========================================

-- 插入便民服务
INSERT INTO convenience_services (title, description, category, provider_name, phone, address, status) VALUES
('水电费缴纳', '便捷的水电费在线缴纳服务，支持微信、支付宝等多种支付方式', 'payment', '社区便民服务中心', '010-12345678', '社区服务中心一楼', 'active'),
('快递代收', '专业快递代收代发服务，解决老人取快递困难', 'express', '快递驿站', '010-87654321', '社区门口左侧', 'active'),
('农产品配送', '新鲜农产品直配到家，产地直供，保证新鲜', 'agriculture', '乡村合作社', '010-23456789', '乡村合作社基地', 'active'),
('家政服务', '专业的家政清洁服务，包括家庭保洁、厨房清洁、卫生间清洁等', 'housekeeping', '家政服务公司', '010-34567890', '社区家政服务中心', 'active'),
('家电维修', '快速上门维修服务，空调、冰箱、洗衣机、电视等家电', 'maintenance', '家电维修站', '010-45678901', '社区维修站', 'active'),
('法律咨询', '专业的法律咨询服务，包括遗嘱、继承、财产分配等', 'legal', '社区法律服务站', '010-56789012', '社区法律服务站', 'active'),
('医疗咨询', '提供常见疾病咨询、用药指导等服务', 'medical', '社区卫生服务中心', '010-67890123', '社区卫生服务中心', 'active'),
('理发服务', '上门理发服务，为行动不便的老人提供便利', 'personal', '理发店', '010-78901234', '社区理发店', 'active'),
('代购服务', '帮助老人代购生活用品、药品等', 'shopping', '志愿者服务站', '010-89012345', '社区志愿者服务站', 'active'),
('文化活动', '组织各类文化活动，如书法、绘画、唱歌等', 'culture', '文化中心', '010-90123456', '社区文化中心', 'active');

-- ==========================================
-- 活动数据
-- ==========================================

-- 插入社区活动
INSERT INTO activities (title, description, activity_date, activity_time, location, max_participants, current_participants, status) VALUES
('健康知识讲座', '邀请医生讲解老年人常见疾病预防和保健知识', '2024-02-15', '14:00', '社区活动中心', 50, 32, 'upcoming'),
('春联书写活动', '春节期间组织老人写春联，传承传统文化', '2024-02-08', '09:30', '社区文化广场', 80, 65, 'upcoming'),
('广场舞比赛', '组织社区广场舞比赛，丰富老人精神文化生活', '2024-03-01', '14:00', '社区广场', 100, 88, 'upcoming'),
('书法展览', '展示社区老人的书法作品，弘扬传统文化', '2024-02-20', '10:00', '文化中心', 60, 45, 'upcoming'),
('合唱团排练', '社区合唱团定期排练，欢迎爱好唱歌的老人参加', '2024-02-12', '15:00', '社区音乐教室', 40, 38, 'ongoing');

-- ==========================================
-- 故事数据
-- ==========================================

-- 插入故事
INSERT INTO stories (user_id, title, content, image, likes, views, status) VALUES
(1, '我的乡村生活', '我在乡村生活了几十年，见证了乡村的变化。从过去的泥泞小路到现在的水泥路，从过去的破旧房屋到现在的新楼房，乡村的变化真是翻天覆地。虽然年纪大了，但我依然热爱这片土地，热爱这里的人们。', '/images/stories/story1.jpg', 23, 156, 'published'),
(2, '志愿服务心得', '作为一名志愿者，我在帮助老人的过程中收获了很多快乐。老人们的笑容是我最大的动力。每次看到他们因为我的一点帮助而开心，我就觉得所有的付出都是值得的。志愿服务不仅帮助了他人，也丰富了我的生活。', '/images/stories/story2.jpg', 45, 289, 'published'),
(3, '社区的温暖', '我们社区就像一个大家庭，邻里之间互相帮助。王阿姨生病时，大家都主动帮忙照顾；李爷爷的孙子放学没人接，大家都轮流去接。这种温暖让我深深感动，生活在这样一个社区真是太幸福了。', '/images/stories/story3.jpg', 67, 345, 'published'),
(1, '回忆往事', '回想起年轻的时候，我们那时候条件虽然艰苦，但大家都很快乐。没有电视，没有手机，但邻里之间关系亲密，大家晚上都聚在一起聊天、唱歌。现在生活好了，但那种淳朴的关系可能不如从前了。', '/images/stories/story4.jpg', 34, 234, 'published');

-- ==========================================
-- 政策数据
-- ==========================================

-- 插入政策信息
INSERT INTO policies (title, content, policy_type, publish_date, source, status) VALUES
('农村养老保险新政策', '2024年起，农村养老保险基础养老金标准提高到每人每月150元。对于65岁以上的老人，每月额外发放50元高龄补贴。参保满15年的，每月再增加20元。', '养老保险', '2024-01-01', '民政部', 'active'),
('农村合作医疗政策', '2024年农村合作医疗报销比例提高：门诊报销比例达到60%，住院报销比例达到70%。重大疾病报销比例达到80%。年度报销限额提高到15万元。', '医疗保险', '2024-01-05', '卫生部', 'active'),
('老年人权益保障法', '保障老年人的合法权益，包括经济保障、医疗保障、社会服务保障、文化生活保障等。禁止任何形式的歧视、虐待、遗弃老年人的行为。', '权益保障', '2024-01-10', '全国人大', 'active'),
('农村宅基地政策', '保障农民宅基地使用权，允许宅基地在符合规划的前提下进行流转。鼓励发展乡村旅游、民宿等产业，提高宅基地利用效率。', '土地政策', '2024-01-15', '自然资源部', 'active');

-- ==========================================
-- 公益项目数据
-- ==========================================

-- 插入公益项目
INSERT INTO charity_projects (title, description, target_amount, current_amount, start_date, end_date, status, image) VALUES
('关爱农村留守老人', '为农村留守老人提供生活照料、精神慰藉等服务，解决他们的实际困难，提高生活质量。', 100000, 65300, '2024-01-01', '2024-12-31', 'ongoing', '/images/charity/project1.jpg'),
('乡村图书馆建设', '建设乡村图书馆，为乡村儿童和老人提供阅读场所，丰富精神文化生活。', 50000, 42500, '2024-02-01', '2024-06-30', 'ongoing', '/images/charity/project2.jpg'),
('健康体检活动', '组织免费健康体检活动，为老人提供血压、血糖、心电图等基础体检服务。', 30000, 28700, '2024-01-15', '2024-03-15', 'ongoing', '/images/charity/project3.jpg');

-- ==========================================
-- 捐赠记录数据
-- ==========================================

-- 插入捐赠记录
INSERT INTO donations (user_id, project_id, amount, message, status) VALUES
(2, 1, 500, '希望能帮助到更多需要帮助的老人', 'completed'),
(2, 2, 200, '支持乡村图书馆建设', 'completed'),
(3, 1, 1000, '尽一份绵薄之力', 'completed'),
(3, 3, 500, '支持健康体检活动', 'completed'),
(1, 1, 100, '我也献一份爱心', 'completed');

-- ==========================================
-- 积分商城商品数据
-- ==========================================

-- 插入商城商品
INSERT INTO mall_products (name, description, image, price, stock, status) VALUES
('大米', '优质东北大米5kg，颗粒饱满，口感香甜', '/images/mall/rice.jpg', 5, 100, 'available'),
('食用油', '花生油5L，纯正非转基因，健康营养', '/images/mall/oil.jpg', 8, 50, 'available'),
('鸡蛋', '土鸡蛋30个，散养土鸡蛋，营养丰富', '/images/mall/egg.jpg', 6, 80, 'available'),
('蔬菜包', '新鲜蔬菜组合，包含当季时令蔬菜', '/images/mall/vegetable.jpg', 4, 60, 'available'),
('水果包', '时令水果组合，新鲜采摘，品质保证', '/images/mall/fruit.jpg', 5, 40, 'available'),
('日用品套装', '洗洁精、洗衣液、肥皂等日用品套装', '/images/mall/daily.jpg', 7, 30, 'available'),
('牛奶', '纯牛奶12盒，新鲜奶源，营养丰富', '/images/mall/milk.jpg', 3, 70, 'available'),
('麦片', '燕麦片500g，健康早餐，方便冲泡', '/images/mall/oatmeal.jpg', 2, 90, 'available'),
('保健品', '钙片一瓶，补充钙质，强健骨骼', '/images/mall/calcium.jpg', 10, 25, 'available'),
('血压计', '家用血压计，操作简单，测量准确', '/images/mall/bp-monitor.jpg', 15, 15, 'available');

-- ==========================================
-- 订单数据
-- ==========================================

-- 插入订单
INSERT INTO orders (user_id, product_id, quantity, total_price, status, shipping_address) VALUES
(1, 1, 1, 5, 'completed', '北京市朝阳区乡村安土社区1号楼'),
(1, 4, 2, 8, 'completed', '北京市朝阳区乡村安土社区1号楼'),
(2, 2, 1, 8, 'shipped', '北京市海淀区'),
(2, 6, 1, 7, 'pending', '北京市海淀区'),
(3, 9, 2, 20, 'completed', '北京市西城区');

-- ==========================================
-- 紧急呼救记录数据
-- ==========================================

-- 插入紧急呼救记录
INSERT INTO emergency_records (user_id, location, latitude, longitude, emergency_type, description, status, volunteer_id, response_time, completion_time) VALUES
(1, '北京市朝阳区乡村安土社区', 39.9042, 116.4074, '医疗急救', '突然感觉胸口闷痛，呼吸困难', 'completed', 2, '2024-01-10 14:25:00', '2024-01-10 15:00:00'),
(1, '北京市朝阳区乡村安土社区', 39.9042, 116.4074, '生活帮助', '需要帮忙购买药品', 'completed', 2, '2024-01-12 10:30:00', '2024-01-12 11:00:00'),
(1, '北京市朝阳区乡村安土社区', 39.9042, 116.4074, '走失寻找', '出门散步后忘记回家的路', 'completed', 2, '2024-01-15 16:00:00', '2024-01-15 16:45:00'),
(1, '北京市朝阳区乡村安土社区', 39.9042, 116.4074, '心理疏导', '感觉心情低落，需要人陪伴', 'processing', 2, '2024-01-18 09:00:00', NULL);

-- ==========================================
-- 查询验证数据
-- ==========================================

-- 验证数据插入
SELECT '健康档案数据' AS '数据类型', COUNT(*) AS '记录数' FROM health_profiles;
SELECT '任务数据' AS '数据类型', COUNT(*) AS '记录数' FROM tasks;
SELECT '时间银行记录' AS '数据类型', COUNT(*) AS '记录数' FROM time_bank_records;
SELECT '服务预约' AS '数据类型', COUNT(*) AS '记录数' FROM service_bookings;
SELECT '便民服务' AS '数据类型', COUNT(*) AS '记录数' FROM convenience_services;
SELECT '活动数据' AS '数据类型', COUNT(*) AS '记录数' FROM activities;
SELECT '故事数据' AS '数据类型', COUNT(*) AS '记录数' FROM stories;
SELECT '政策数据' AS '数据类型', COUNT(*) AS '记录数' FROM policies;
SELECT '公益项目' AS '数据类型', COUNT(*) AS '记录数' FROM charity_projects;
SELECT '捐赠记录' AS '数据类型', COUNT(*) AS '记录数' FROM donations;
SELECT '商城商品' AS '数据类型', COUNT(*) AS '记录数' FROM mall_products;
SELECT '订单数据' AS '数据类型', COUNT(*) AS '记录数' FROM orders;
SELECT '紧急呼救' AS '数据类型', COUNT(*) AS '记录数' FROM emergency_records;
SELECT '用户数据' AS '数据类型', COUNT(*) AS '记录数' FROM users;
